## Как запускать
- Установка: `pnpm install`
- Генерация Prisma: `pnpm prisma generate`
- Миграции (dev): `pnpm prisma migrate dev --name "<msg>"`
- Локально: `pnpm dev`
- Тесты: `pnpm test`
## Правило:
- При разработке интерфейса использовать shadcn/ui по возможности - Чтобы не дублировать стили и соблюдать единый дизайн-системный подход.

## Правила кода
- TypeScript: strict, ESM
- Компоненты: React + RHF + Zod; валидацию держим в схемах
- UI: Tailwind + shadcn/ui; не трогать глобальные токены темы

## i18n
- Библиотека: next-intl (App Router).
- Поддерживаемые языки: ru (default), uk, en. Путь включает префикс локали: /uk/... /ru/... /en/...
- Все пользовательские строки – только через t() из next-intl; хардкода не допускается.
- Даты/валюты – через useFormatter() (Intl API).
- Валидация форм (Zod/RHF): сообщения берём из i18n, не хардкодим.
- Добавляя ключи, сперва правим `messages/en/*.json`, затем синхронизируем `uk`/`ru`. Английский — источник правды.

## State management: Zustand
- Архитектура: "слайсы" по доменам (`src/stores/*`), минимальная логика в сторе, тяжелую — в сервисах/хелперах.
- Обновления только через экшены; не мутировать состояние вне `set()`/immer.
- Используем middlewares:
  - `persist` c `createJSONStorage(() => localStorage)`, `version` и `migrate` для эволюции данных.
  - `devtools` — только в dev.
  - `immer` — для удобной иммутабельности.
  - `subscribeWithSelector` — для адресных эффектов и кросс-слайсовых зависимостей.
- В компонентах — **селекторы** + `shallow` для избежания лишних ререндеров.
- Серилизуемые данные в persist (без функций/классов/дат без явной сериализации).
- Ресет: у каждого стора есть `reset()` к начальному состоянию (важно для logout/cleanup).
- Тесты: сторы тестируются как обычные функции (add/remove/reset), без React.

## Безопасность
- Не коммитить `.env*`; использовать переменные окружения, секреты — только через настройки окружения Codex
- В NextAuth: не менять провайдеры без обновления схем/seed
